.overlay{position:fixed;inset:0;background:rgba(0,0,0,.45);display:flex;justify-content:center;align-items:flex-start;padding:4rem 1rem 2rem;z-index:1500;backdrop-filter:blur(2px);overflow-y:auto;direction:rtl;font-family:inherit}
.panel{width:min(620px,100%);background:#fff;border-radius:20px;padding:1.9rem 1.6rem 1.55rem;box-shadow:0 14px 34px -8px rgba(0,0,0,.25),0 6px 16px -4px rgba(0,0,0,.12);display:flex;flex-direction:column;gap:1rem;position:relative;animation:afade .3s ease}
@keyframes afade{from{opacity:0;transform:translateY(18px) scale(.97)}to{opacity:1;transform:translateY(0) scale(1)}}
.close{position:absolute;top:.6rem;left:.7rem;width:34px;height:34px;border:none;border-radius:50%;background:#f1f3f6;color:#333;font-size:1.2rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .2s}
.close:hover{background:#e5e8eb}
.heading{margin:0;font-size:1.3rem;font-weight:700;color:var(--color-accent-primary)}
.note{margin:0;font-size:.75rem;color:#5a6472}
.progressWrap{width:100%;height:7px;background:#e2e8ef;border-radius:5px;overflow:hidden}
.progressFill{height:100%;background:linear-gradient(90deg,var(--color-accent-primary),var(--color-accent-secondary,#6a8bff));transition:width .35s}
.list{list-style:none;margin:.65rem 0 1rem;padding:0;display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:.65rem .75rem}
.item{background:#f6f9fc;border:1px solid #d9e1e8;border-radius:14px;padding:.75rem .75rem .7rem;display:flex;align-items:center;gap:.65rem;font-size:.78rem;cursor:pointer;transition:background .2s,border-color .25s,transform .18s;min-height:54px;line-height:1.25}
.item:hover{background:#eef4ff;border-color:var(--color-accent-primary)}
.box{width:22px;height:22px;border:2px solid var(--color-accent-primary);border-radius:8px;display:flex;align-items:center;justify-content:center;position:relative;background:#fff;flex-shrink:0;transition:background .25s,border-color .25s,box-shadow .25s}
.tick{width:9px;height:15px;border:3px solid #fff;border-top:0;border-left:0;transform:rotate(40deg);margin-top:-2px}
.checked .box{background:var(--color-accent-primary);box-shadow:0 0 0 4px rgba(70,120,255,.18);border-color:var(--color-accent-primary)}
.checked{background:#e9f2ff;border-color:var(--color-accent-primary)}
.text{color:#2f3b4a;font-weight:500}
.checked .text{color:var(--color-accent-primary);font-weight:600}
.label{font-size:.7rem;font-weight:600;margin:-.2rem 0 .35rem;color:#415064}
.textarea{width:100%;min-height:110px;resize:vertical;padding:.75rem .85rem;border:1px solid #ced4da;border-radius:14px;background:#fff;font:inherit;line-height:1.5;transition:border-color .2s,background .2s}
.textarea:focus{outline:none;border-color:var(--color-accent-primary);background:#fcfeff;box-shadow:0 0 0 3px rgba(56,132,255,.18)}
.actions{display:flex;gap:.8rem;justify-content:flex-end;flex-wrap:wrap}
.primary{background:var(--color-accent-primary);color:#fff;border:none;border-radius:12px;padding:.65rem 1.25rem;font-size:.8rem;font-weight:600;cursor:pointer;transition:background .2s,transform .15s}
.primary:hover:not(:disabled){background:var(--color-accent-primary-hover,#1e5cc9)}
.primary:active:not(:disabled){transform:translateY(1px)}
.primary:disabled{opacity:.55;cursor:not-allowed}
.secondary{background:#f1f3f6;color:#1f2d3d;border:none;border-radius:12px;padding:.65rem 1.1rem;font-size:.8rem;font-weight:600;cursor:pointer;transition:background .2s}
.secondary:hover{background:#e6e9ed}
@media (max-width:640px){.panel{padding:1.4rem 1.1rem 1.1rem;border-radius:18px}.list{grid-template-columns:repeat(auto-fill,minmax(160px,1fr))}}
.dark .panel{background:#1f2630;color:#e7ecf2}
.dark .item{background:#24313c;border-color:#354652}
.dark .item:hover{background:#2d3c49}
.dark .checked{background:#2d4666;border-color:#4a8dff}
.dark .box{background:#1e2730;border-color:#3d6cc9}
.dark .checked .box{background:#3d7ef7;border-color:#3d7ef7}
.dark .text{color:#d4dce3}
.dark .checked .text{color:#ffffff}
.dark .textarea{background:#2a333e;border-color:#3a4552;color:#eef2f6}
.dark .textarea:focus{background:#303b47}
.dark .secondary{background:#2e3944;color:#dbe3ea}
.dark .secondary:hover{background:#374552}
